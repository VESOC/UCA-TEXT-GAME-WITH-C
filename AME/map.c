//탈출구: 7, 벽:  0, 길: 1, 자판기: 8~14, 쉼터: 2~5 
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "game_function.h"
#include "special-places.h"
#include "event_screen.h"
#include "item.h"
#include "battle.h" 

int x=10, y=10;

//int map1[21][21] = {
//{ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 6, 8, 0, 1, 1, 1, 0, 1, 1, 1, 0},
//{ 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0},
//{ 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0,13, 0},
//{ 0, 0, 2, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 6, 1},
//{ 0, 1, 6, 0, 0, 1, 0, 0,12, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1},
//{ 1, 1, 0, 1, 1, 1, 0, 0, 6, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1},
//{ 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 9, 6, 0, 1, 1},
//{ 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0},
//{ 1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 6, 4},
//{ 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0},
//{ 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0},
//{ 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0},
//{ 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1,77},
//{ 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0,10, 0, 7},
//{ 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 6, 0, 0},
//{ 1, 0, 0, 1, 1, 6, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1},
//{ 1, 0, 0, 1, 0, 3, 0, 1, 1, 1, 0, 1, 0,14, 0, 0, 1, 0, 0, 0, 1},
//{ 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 6, 1, 1, 1, 0, 1, 1, 1},
//{ 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0},
//{ 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 6, 5, 1, 1, 0, 0},
//{ 1, 0, 0, 0, 0, 0, 0, 1, 0,11, 6, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}
//};
//
//int map2[21][21] ={
//{ 0, 1, 1, 1, 0, 0, 0, 2, 0, 0, 0, 1, 1, 0, 1, 1, 1, 6, 1, 1, 1},
//{ 0, 1, 0, 1, 0, 0, 0, 6, 0, 0, 0, 0, 1, 1, 1, 0, 0,11, 6, 0, 1},
//{ 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1},
//{ 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1},
//{ 1, 0, 6, 8, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 6, 1},
//{ 6, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0,13, 6, 0, 1, 0, 6, 5, 0},
//{10, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0},
//{ 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0},
//{ 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1},
//{ 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1},
//{ 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0,14, 6, 1},
//{ 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0},
//{ 0, 1, 0, 6, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0},
//{ 1, 1, 0,12, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},
//{ 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 4, 6, 1, 1, 1, 1, 0},
//{ 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//{ 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1},
//{ 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1},
//{ 3, 0, 0, 0, 1, 1, 0, 6, 9, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1},
//{ 6, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0},
//{ 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 7,77, 1, 0}
//};
//
//int map3[21][21] ={
//{ 1, 1, 1, 1, 0,12, 6, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 6,14},
//{ 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0},
//{ 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1},
//{ 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 9, 0, 1, 1, 1, 0, 1},
//{ 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 6, 0, 1, 0, 1, 0, 1},
//{ 0, 1, 1, 0, 3, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1},
//{ 1, 1, 0, 0, 6, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 8, 6, 0, 1},
//{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1},
//{ 1, 1, 1, 1, 1, 1,77, 7, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1},
//{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0},
//{ 0, 2, 6, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0},
//{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0,11, 6, 0, 0, 1, 1},
//{ 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1},
//{ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1},
//{ 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 6, 0, 0, 0, 1, 1, 1, 1, 0, 1},
//{ 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0,10, 0, 0, 1, 1, 0, 0, 0, 0, 1},
//{ 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1},
//{ 1, 0, 6, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 6, 0, 0, 1},
//{ 1, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 6, 5, 0, 1, 1},
//{ 1, 0, 0, 0, 0, 0, 0, 0,13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},
//{ 1, 1, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
//};
//
//int map4[21][21] ={
//{ 4, 1, 1, 1, 1, 1, 1, 1, 0, 0,10, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1},
//{ 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1},
//{ 7, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1},
//{ 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1},
//{ 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1},
//{ 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
//{ 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0},
//{ 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 2, 1, 1, 1, 1, 1, 1, 1, 0},
//{ 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0},
//{ 1, 1,11, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0},
//{ 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0},
//{12, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1},
//{ 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1},
//{ 0, 0, 0, 1, 0, 5, 0, 1, 0, 1, 0, 8, 0, 1, 0, 1, 1, 1, 1, 0, 1},
//{ 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1},
//{ 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1},
//{ 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1},
//{ 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 9, 0, 1},
//{ 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1},
//{13, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
//{ 1, 1, 1, 1, 1, 1, 0,14, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
//};
//int map5[21][21] ={
//{ 2, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 8, 0, 1, 1, 1, 0,12, 1},
//{ 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1},
//{ 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1},
//{ 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1},
//{ 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1},
//{ 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
//{ 3, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0},
//{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0},
//{ 1, 0, 0, 9, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0,13, 0},
//{ 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0},
//{ 1, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0},
//{ 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 4, 0},
//{ 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0},
//{ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1},
//{ 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 1},
//{ 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1},
//{ 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1},
//{11, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1},
//{ 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 5, 1, 0, 1, 1, 1},
//{ 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0,14, 0, 1, 0, 0, 1, 0, 1, 0},
//{ 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1,10, 0, 7, 1, 1, 1, 1, 1, 1, 1}
//};

int (*map(int id, int mode, int val))[21] { //맵 배열 반환 함수  
	static int map1[21][21] = {
	{ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 6, 8, 0, 1, 1, 1, 0, 1, 1, 0, 0},
	{ 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0,13, 0},
	{ 0, 0, 2, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 6, 1},
	{ 0, 1, 6, 0, 0, 1, 0, 0,12, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1},
	{ 1, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1},
	{ 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 9, 6, 0, 1, 1},
	{ 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0},
	{ 1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 6, 4},
	{ 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0},
	{ 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0},
	{ 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1,77},
	{ 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0,10, 0, 7},
	{ 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 6, 0, 0},
	{ 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1},
	{ 1, 0, 0, 1, 0, 3, 0, 1, 1, 1, 0, 1, 0,14, 0, 0, 1, 0, 0, 0, 1},
	{ 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 6, 1, 1, 1, 0, 1, 1, 1},
	{ 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0},
	{ 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 6, 5, 1, 1, 0, 0},
	{ 1, 0, 0, 0, 0, 0, 0, 1, 0,11, 6, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}
	};
	
	static int map2[21][21] ={
	{ 0, 1, 1, 1, 0, 0, 0, 2, 0, 0, 0, 1, 1, 0, 1, 1, 1, 6, 1, 1, 1},
	{ 0, 1, 0, 1, 0, 0, 0, 6, 0, 0, 0, 0, 1, 1, 1, 0, 0,11, 6, 0, 1},
	{ 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1},
	{ 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1},
	{ 1, 0, 6, 8, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1},
	{ 6, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0,13, 1, 0, 1, 0, 6, 5, 0},
	{10, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0},
	{ 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0},
	{ 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1},
	{ 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1},
	{ 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0,14, 6, 1},
	{ 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0},
	{ 0, 1, 0, 6, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0},
	{ 1, 1, 0,12, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},
	{ 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 4, 6, 1, 1, 1, 1, 0},
	{ 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1},
	{ 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1},
	{ 3, 0, 0, 0, 1, 1, 0, 6, 9, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1},
	{ 6, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0},
	{ 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 7,77, 1, 0}
	};
	
	static int map3[21][21] ={
	{ 1, 1, 1, 1, 0,12, 6, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1,14},
	{ 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0},
	{ 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1},
	{ 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 9, 0, 1, 1, 1, 0, 1},
	{ 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 6, 0, 1, 0, 1, 0, 1},
	{ 0, 1, 1, 0, 3, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1},
	{ 1, 1, 0, 0, 6, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 8, 6, 0, 1},
	{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1},
	{ 1, 1, 1, 1, 1, 1,77, 7, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0},
	{ 0, 2, 6, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0,11, 6, 0, 0, 1, 1},
	{ 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1},
	{ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1},
	{ 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 6, 0, 0, 0, 1, 1, 1, 1, 0, 1},
	{ 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0,10, 0, 0, 1, 1, 0, 0, 0, 0, 1},
	{ 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1},
	{ 1, 0, 6, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 6, 0, 0, 1},
	{ 1, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 6, 5, 0, 1, 1},
	{ 1, 0, 0, 0, 0, 0, 0, 0,13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},
	{ 1, 1, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
	};
	
	static int map4[21][21] ={
	{ 4, 6, 1, 1, 1, 1, 1, 1, 0, 0,10, 0, 3, 6, 1, 1, 1, 1, 1, 1, 1},
	{ 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1},
	{ 7, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1},
	{77, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1},
	{ 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1},
	{ 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
	{ 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0},
	{ 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 2, 6, 1, 1, 1, 1, 1, 1, 0},
	{ 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0},
	{ 1, 6,11, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0},
	{ 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0},
	{12, 6, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1},
	{ 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1},
	{ 0, 0, 0, 1, 0, 5, 0, 1, 0, 1, 0, 8, 0, 1, 0, 1, 1, 1, 1, 0, 1},
	{ 1, 1, 1, 1, 0, 6, 1, 1, 1, 1, 0, 6, 0, 1, 0, 0, 0, 0, 0, 0, 1},
	{ 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1},
	{ 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 6, 0, 1},
	{ 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 9, 0, 1},
	{ 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1},
	{13, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
	{ 6, 1, 1, 1, 1, 1, 0,14, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
	};
	static int map5[21][21] ={
	{ 2, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 6, 8, 0, 1, 1, 1, 0,12, 6},
	{ 6, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1},
	{ 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1},
	{ 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1},
	{ 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1},
	{ 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
	{ 3, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0},
	{ 6, 1, 1, 6, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 0},
	{ 1, 0, 0, 9, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0,13, 0},
	{ 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0},
	{ 1, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0},
	{ 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 6, 4, 0},
	{ 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0},
	{ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1},
	{ 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 1},
	{ 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1},
	{ 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1},
	{11, 6, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1},
	{ 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 5, 6, 0, 1, 1, 1},
	{ 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0,14, 0, 0, 0, 0, 1, 0, 1, 0},
	{ 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 6,10, 0, 7,77, 1, 1, 1, 1, 1, 1}
	};
	if(mode == 0){
		if(id == 1) return map1;
		else if(id == 2) return map2;
		else if(id == 3) return map3;
		else if(id == 4) return map4;
		else if(id == 5) return map5;	
	}else if(mode == 1){
		if(id == 1) map1[x][y] = val;
		else if(id == 2) map2[x][y] = val;
		else if(id == 3) map3[x][y] = val;
		else if(id == 4) map4[x][y] = val;
		else if(id == 5) map5[x][y] = val;
	}else if(mode == 3){
		x++;
		if(map(id, 0, 0)[x][y]==6){
			map(id, 1, 1);
		} 
		x-=2;
		if(map(id, 0, 0)[x][y]==6) map(id, 1, 1);
		x++;
		y--;
		if(map(id, 0, 0)[x][y]==6) map(id, 1, 1);
		y+=2;
		if(map(id, 0, 0)[x][y]==6) map(id, 1, 1);
		y--;
	}else if(mode == 2){
		if(id == 1){
			map1[0][10] = 6;
			map1[3][19] = 6;
			map1[4][2] = 6;
			map1[6][17] = 6;
			map1[8][19] = 6;
			map1[14][18] = 6;
			map1[15][5] = 6;
			map1[17][13] = 6;
			map1[19][15] = 6;
			map1[20][10] = 6;
			map1[12][20] = 77;
		}else if(id == 2){
			map2[1][7] = 6;
			map2[1][18] = 6;
			map2[4][2] = 6;
			map2[5][0] = 6;
			map2[5][18] = 6;
			map2[10][18] = 6;
			map2[12][19] = 6;
			map2[14][3] = 6;
			map2[18][15] = 6;
			map2[19][0] = 6;
			map2[20][18] = 77;
		}else if(id == 3){
			map3[0][6] = 6;
			map3[6][4] = 6;
			map3[6][18] = 6;
			map3[8][6] = 6;
			map3[10][2] = 6;
			map3[11][16] = 6;
			map3[14][11] = 6;
			map3[17][2] = 6;
			map3[17][17] = 6;
			map3[18][16] = 6;
			map3[20][8] = 77;
		}else if(id == 4){
			map4[0][1] = 6;
			map4[0][13] = 6;
			map4[1][10] = 6;
			map4[3][0] = 77;
			map4[7][13] = 6;
			map4[9][1] = 6;
			map4[11][1] = 6;
			map4[14][1] = 6;
			map4[14][5] = 6;
			map4[16][18] = 6;
			map4[20][0] = 6;
		}else if(id == 5){
			map5[0][12] = 6;
			map5[0][20] = 6;
			map5[1][0] = 6;
			map5[7][0] = 6;
			map5[7][3] = 6;
			map5[7][19] = 6;
			map5[11][18] = 6;
			map5[17][1] = 6;
			map5[18][16] = 6;
			map5[20][10] = 6;
			map5[20][14] = 77;
		}
		return ;
	}
	
}

int idRT(int id){
	static int rid = 0;
	rid = id != 0 ? id : rid;
	return rid;
}
 //검, 창, 도끼, 물양동이, 힘버프, 속도버프, 힘디버프, 속도디버프, 인벤토리 증가, 철판, 전선, 전구, CPU, 냉각기, 패널티패스 
int itemList[15] = {1, 1, 1, 5, 10, 10, 10, 10, 8, 3, 3, 3, 3, 3, 2};
void map_interact(int tile, int id){
	if(tile == 101){
		itemList[0] = 1;
		itemList[1] = 1;
		itemList[2] = 1;
		itemList[3] = 5;
		itemList[4] = 10;
		itemList[5] = 10;
		itemList[6] = 10;
		itemList[7] = 10;
		itemList[8] = 8;
		itemList[9] = 3;
		itemList[10] = 3;
		itemList[11] = 3;
		itemList[12] = 3;
		itemList[13] = 3;
		itemList[14] = 2;
		return ;
	}
	srand(time(NULL));
	switch(tile){
		case 1:
			puts("성공적으로 이동하였습니다.");
			Sleep(300); 
			puts("아이템을 획득할까요?");
			if(rand()%7 == 3){
				puts("축하합니다! 아이템이 무엇인지 데이터베이스를 뒤져보고 있습니다.");
				Sleep(150);
				int num = rand()%15;
				while(itemList[num] >= 0){
					if(itemList[num] > 0) {
						itemList[num]--;
						printf("아 찾았습니다. 아이템은 바로......");
						break;
					}
					num = rand()%15;
				}
				Sleep(150);
				int n;
				switch(num){
					case 0:
					case 1:
					case 2:
						n = weapon(0, num);
						if(n == -1) itemList[num]++;
						break;
					case 3:
						n = de_buff(2, 0);
						if(n == -1) itemList[num]++;
						break;
					case 4:
						n = de_buff(0, 0);
						if(n == -1) itemList[num]++;
						break;
					case 5:
						n = de_buff(0, 2);
						if(n == -1) itemList[num]++;
						break;
					case 6:
						n = de_buff(1, 0);
						if(n == -1) itemList[num]++;
						break;
					case 7:
						n = de_buff(1, 2);
						if(n == -1) itemList[num]++;
						break;
					case 8:
						bag(0, 0);
						break;
					case 9:
					case 10:
					case 11:
					case 12:
					case 13:
						n = quest(num-9); 
						if(n == -1) itemList[num]++;
						break;
					case 14:
						n = dp();
						if(n == -1) itemList[num]++;
						break;
				}
			}else{
				puts("아 뭐 운 없네 ㅋㅋ");
			}
			money(1, rand()%5);
			break;
		case 6:
			puts("중간보스와의 싸움이 시작됩니다. 거절은 거절합니다."); 
			fight('f', 6); //잔챙이  
			break;
		case 77:
			puts("탈출구를 지키는 최종보스와의 싸움이 시작됩니다. 그냥 싸우세요"); 
			fight('e', 77); //보스  
			break;
		case 2:
		case 3:
		case 4:
		case 5:
			map(id, 3, 0);
			printf(" [%d번째의 잊혀진 쉼터 출입권한(1회용)]을 획득했습니다!\n", tile-1);
			resting_area(tile, 0);
			break;
		case 7:
			map_clear(id);
			break;
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
			map(id, 3, 0);
			printf(" [%d번째의 자판기 출입권한(1회용)]을 획득했습니다!\n", tile-7); 
			vending_machine();
			break;
		case 0:
			break;
	}
} 


